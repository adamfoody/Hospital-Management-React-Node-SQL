{"ast":null,"code":"var _jsxFileName = \"/Users/adamfoody/mwa/test/client/my-app/src/PatientTable.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { TableContainer, Button, Table, Paper, TableHead, TableRow, TableCell, TableBody, makeStyles } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  tableHead: {\n    borderBottomStyle: \"solid\",\n    borderBottomColor: \"blue\"\n  },\n  stickyHeader: {}\n}));\nexport default function PatientTable() {\n  _s();\n\n  const classes = useStyles();\n  const [patients, setPatients] = React.useState([]);\n  const [displayPatients, setDisplayPatients] = useState(true); // will be used to render the treatment by id for the patient tables \n\n  const [treatmentsById, setTreatmentsById] = useState([]);\n  const [displayTreatmentForPatient, setDisplayTreatmentForPatient] = useState();\n\n  function fetchPatientRecords() {\n    axios.get('http://localhost:8081/patient').then(response => {\n      // handle success\n      setPatients(response.data);\n    });\n  }\n\n  function deletePatient(patient1) {\n    axios.delete(`http://localhost:8081/deletePatient/${patient1}`).then(response => {\n      // handle success\n      var resData = response.data;\n      let data = JSON.stringify(resData);\n      window.alert('Response recieved from server = ' + data);\n    });\n  }\n\n  function deletePatientHandler() {\n    deletePatient();\n  }\n\n  function fetchTreatmentRecordsById(treatmentId1) {\n    axios.get(`http://localhost:8081/treatmentId/${treatmentId1}`).then(response => {\n      // handle success\n      setTreatmentsById(response.data);\n    });\n  } // useEffect with an empty array at the end. This means it will be called just once when the component is mounted. \n\n\n  useEffect(() => {\n    fetchPatientRecords();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: displayPatients == true && /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      className: classes.tableContainer,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        stickyHeader: true,\n        sx: {\n          minWidth: 650\n        },\n        \"aria-label\": \"simple table\",\n        variant: \"outlined\",\n        \"align-text\": true,\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            style: {\n              borderBottom: \"2px solid #3f51b5\",\n              borderTop: \"2px solid #3f51b5\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Patient Table\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 21\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \" Full Name \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 24\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Patient ID \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 39\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \" DOB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 38\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \" Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 38\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \" Treatment ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 38\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \" Allergy \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 38\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \" View Treatment \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 38\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \" Delete Patient\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 38\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: patients.map(row => /*#__PURE__*/_jsxDEV(TableRow, {\n            sx: {\n              '&:last-child td, &:last-child th': {\n                border: 0\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              component: \"th\",\n              scope: \"row\",\n              children: row.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: row.patientId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: row.dob\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: row.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: row.treatmentId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), row.allergy == 0 && /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"PATIENT HAS NO ALLERGY!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 17\n            }, this), row.allergy == 1 && /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              className: \"hasAllergy\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \" PATIENT HAS ALLERGY! \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"smallButton\",\n                color: \"primary\",\n                variant: \"outlined\",\n                children: \"View Treatment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"smallButton\",\n                color: \"secondary\",\n                variant: \"outlined\",\n                onClick: () => {\n                  deletePatient(row.patientId);\n                },\n                children: \"Delete Patient\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this)]\n          }, row.patientId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n}\n/*thoughts, why not call fetchPatientRecords in a function in the return statement, then after render the table. \nThis way we call the function and setPatients = \n\n\n\n*/\n\n_s(PatientTable, \"2Tbgmb8xyx+T1RZwC9qOeVpfea8=\", false, function () {\n  return [useStyles];\n});\n\n_c = PatientTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"PatientTable\");","map":{"version":3,"sources":["/Users/adamfoody/mwa/test/client/my-app/src/PatientTable.js"],"names":["React","useState","useEffect","axios","TableContainer","Button","Table","Paper","TableHead","TableRow","TableCell","TableBody","makeStyles","useStyles","theme","tableHead","borderBottomStyle","borderBottomColor","stickyHeader","PatientTable","classes","patients","setPatients","displayPatients","setDisplayPatients","treatmentsById","setTreatmentsById","displayTreatmentForPatient","setDisplayTreatmentForPatient","fetchPatientRecords","get","then","response","data","deletePatient","patient1","delete","resData","JSON","stringify","window","alert","deletePatientHandler","fetchTreatmentRecordsById","treatmentId1","tableContainer","minWidth","borderBottom","borderTop","map","row","border","name","patientId","dob","address","treatmentId","allergy"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport React , {useState, useEffect} from \"react\"\nimport axios from 'axios';\nimport { TableContainer, Button, Table, Paper, TableHead, TableRow, TableCell, TableBody, makeStyles} from '@material-ui/core';\n\n\nconst useStyles = makeStyles((theme) => ({\n    tableHead: {\n        borderBottomStyle: \"solid\",\n        borderBottomColor: \"blue\"\n    },\n    stickyHeader:{\n      \n    }\n}));\n\n\n\n\nexport default function PatientTable() {\n\n    const classes = useStyles();\n\n    const [patients, setPatients] = React.useState([]);\n    const [displayPatients, setDisplayPatients] = useState(true);\n\n    // will be used to render the treatment by id for the patient tables \n    const [treatmentsById, setTreatmentsById] = useState([]);\n    const [displayTreatmentForPatient, setDisplayTreatmentForPatient] = useState();\n\n    function fetchPatientRecords() {\n        axios.get('http://localhost:8081/patient').then((response) => {\n          // handle success\n          setPatients(response.data);\n         \n        });\n      }\n\n      function deletePatient(patient1) {\n        axios\n          .delete(`http://localhost:8081/deletePatient/${patient1}`)\n          .then((response) => {\n            // handle success\n            var resData = response.data;\n            let data = JSON.stringify(resData);\n            window.alert('Response recieved from server = ' + data);\n          });\n      }\n\n\n      function deletePatientHandler() {\n        deletePatient();\n      }\n\n      function fetchTreatmentRecordsById(treatmentId1) {\n        axios\n          .get(`http://localhost:8081/treatmentId/${treatmentId1}`)\n          .then((response) => {\n            // handle success\n            setTreatmentsById(response.data);\n           \n          });\n      }\n\n    // useEffect with an empty array at the end. This means it will be called just once when the component is mounted. \n\n    useEffect(() => {\n        fetchPatientRecords();\n      }, []);\n   \n\n          \n          \n    return (     \n    \n\n\n\n        <div>\n      \n        {  displayPatients == true && (\n\n            \n          \n            <TableContainer component={Paper} className={classes.tableContainer}>\n            \n\n            <Table stickyHeader sx={{ minWidth: 650 }} aria-label=\"simple table\" variant=\"outlined\" align-text>\n        <TableHead >\n        <TableCell\n                style={{\n                    borderBottom: \"2px solid #3f51b5\", borderTop: \"2px solid #3f51b5\"\n                    \n                    \n                }}\n\n\n            >\n               <h3> <strong>Patient Table</strong> </h3>\n            </TableCell>\n      \n          <TableRow>\n      \n            <TableCell><strong> Full Name </strong> </TableCell>\n            <TableCell align=\"right\"> <strong>Patient ID </strong></TableCell>\n            <TableCell align=\"right\"><strong> DOB</strong> </TableCell>\n            <TableCell align=\"right\"><strong> Address</strong></TableCell>\n            <TableCell align=\"right\"><strong> Treatment ID</strong></TableCell>\n            <TableCell align=\"right\"><strong> Allergy </strong></TableCell>\n            <TableCell align=\"right\"><strong> View Treatment </strong> </TableCell>\n            <TableCell align=\"right\"><strong> Delete Patient</strong></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {patients.map((row) => (\n            <TableRow\n              key={row.patientId}\n              sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n            >\n              <TableCell component=\"th\" scope=\"row\">\n                {row.name}\n              </TableCell>\n              <TableCell align=\"right\">{row.patientId}</TableCell>\n              <TableCell align=\"right\">{row.dob}</TableCell>\n              <TableCell align=\"right\">{row.address}</TableCell>\n              <TableCell align=\"right\">{row.treatmentId}</TableCell>\n\n                {row.allergy == 0 && (\n                <TableCell align=\"right\">PATIENT HAS NO ALLERGY!</TableCell>\n                )}\n                {row.allergy == 1 && (\n                <TableCell align=\"right\" className=\"hasAllergy\"> \n                <strong> PATIENT HAS ALLERGY! </strong> \n                </TableCell>\n                )}\n                <TableCell> \n\n                <Button\n                  className=\"smallButton\"\n                  color=\"primary\"\n                  variant=\"outlined\"\n                 \n                >\n               \n                  View Treatment\n                </Button>\n           \n\n                </TableCell>\n\n\n                <TableCell>\n                  \n\n                <Button\n                  className=\"smallButton\"\n                  color=\"secondary\"\n                  variant=\"outlined\"\n                  onClick={() => {\n                    deletePatient(row.patientId);\n                  }}\n                 \n                >\n              \n                  Delete Patient\n                </Button>\n                  \n                </TableCell>\n\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n  \n\n\n\n\n            </TableContainer>\n\n      \n  \n          \n            \n        )}\n     \n      \n        \n     \n                           \n\n        </div>\n    )\n}\n\n/*thoughts, why not call fetchPatientRecords in a function in the return statement, then after render the table. \nThis way we call the function and setPatients = \n\n\n\n*/\n"]},"metadata":{},"sourceType":"module"}